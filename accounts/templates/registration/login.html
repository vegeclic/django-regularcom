{% extends "base.html" %}
{% load i18n %}

{% block content %}

  {% if signup_ok %}
    {% trans "Your account has been successfully created." %}
  {% endif %}

  {% if signup_form %}
    {% if signup_form.errors %}
      {% for err in signup_form.errors %}
	<p style="color:red;">{% trans "Invalid" %}: {{ err }}</p>
      {% endfor %}
    {% endif %}

    <form method="post" action="{% url 'accounts.views.signup' %}">
      {% csrf_token %}
      {{ signup_form.as_p }}
      <input type="submit" value="{% trans 'Create' %}" />
    </form>

  {% else %}

    {% if form.errors %}
      <p>{% trans "Your username and password didn't match. Please try again." %}</p>
    {% endif %}

    <form method="post" action="{% url 'django.contrib.auth.views.login' %}">
      {% csrf_token %}
      <table>
	<tr>
	  <td>{{ form.username.label_tag }}</td>
	  <td>{{ form.username }}</td>
	</tr>
	<tr>
	  <td>{{ form.password.label_tag }}</td>
	  <td>{{ form.password }}</td>
	</tr>
      </table>

      <input type="submit" value="{% trans 'login' %}" />
      <input type="hidden" name="next" value="{{ next }}" />
    </form>

  {% endif %}

{% endblock %}
